!function(e){e.fn.materialvalidation=function(a){return this.each(function(){var r=e(this);if(!r.data("materialvalidation")){var i=new t(this,a);r.data("materialvalidation",i),r.data().materialvalidation.methods.init()}})};var t=function(t,a){var r={customValidations:[],defaultText:"Invalid Format",fields:"fieldset,select,textarea,input[type=checkbox],input[type=text],input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=datetime-local],input[type=date],input[type=url]",parentContainer:!1,html5materialvalidationon:!1,errorClass:"error",notification:!0,theme:"materialize",methods:{init:function(){if(void 0!=a){switch(void 0!=a.customValidations&&(r.customValidations=a.customValidations),void 0!=a.notification&&(r.notification=a.notification),void 0!=a.theme&&(r.theme=a.theme),a.theme){case"bootstrap":r.errorClass="has-error",r.parentContainer=!0;break;case"materialize":r.errorClass="invalid";break;default:r.errorClass="error"}void 0!=a.errorClass&&(r.errorClass=a.errorClass),void 0!=a.parentContainer&&(r.parentContainer=a.parentContainer)}e(t).find(r.fields).each(function(a,i){e(i).data().order=a,void 0===e(i).data().content&&(e(i).data("content",r.defaultText),e(i).attr("data-content",r.defaultText)),"bootstrap"==r.theme&&(e(i).popover({trigger:"manual",title:"Error",container:t,placement:"bottom"}),e(i).on("focus",function(){e(i).popover("hide"),e(i).parent().removeClass(r.errorClass)}),e(i).on("hidden.bs.popover",function(){}),e(i).on("shown.bs.popover",function(){e(t).find(r.fields).each(function(t,i){a!=t&&(e(i).popover("hide"),e(i).removeClass(r.errorClass))})}))})},validate:function(){var a=!0;return e(t).find(r.fields).each(function(t,i){if(e(i).prop("disabled"))return!0;e(i).on("blur",function(){e(this).removeClass(r.errorClass)});var n=e(i).data("validation");if(e(i).data().optional&&e(i).val().length<1)return!0;switch(n){case"empty":e(i).val().length>0&&(a=!1);break;case"noempty":""===e(i).val().trim()&&(a=!1);break;case"text":r.methods.isText(e(i).val().trim())||(a=!1);break;case"alphanumeric":r.methods.isAlphaNumeric(e(i).val().trim())||(a=!1);break;case"zip":r.methods.isCP(e(i).val())||(a=!1);break;case"email":r.methods.isEmail(e(i).val())||(a=!1);break;case"phone":r.methods.isPhone(e(i).val())||(a=!1);break;case"creditcard":r.methods.isCreditCard(e(i).val())||(a=!1);break;case"clabe":r.methods.isClabe(e(i).val())||(a=!1);break;case"numericonly":r.methods.isNumeric(e(i).val())||(a=!1);break;case"numericonlynozero":r.methods.isNumeric(e(i).val())||(a=!1),e(i).val()<=0&&(a=!1);break;case"numericorempty":""!=e(i).val()&&(r.methods.isNumeric(e(i).val().trim())||(a=!1));break;case"cvv":r.methods.isCVV(e(i).val())||(a=!1);break;case"serie":r.methods.isSerie(e(i).val())||(a=!1);break;case"cvvuser":r.methods.isCVVuser(e(i).val())||(a=!1);break;case"address":r.methods.isAddress(e(i).val())||(a=!1);break;case"expirymonth":r.methods.cc_expiryMonth(e(i).val())||(a=!1);break;case"expiryyear":r.methods.cc_expiryYear(e(i).val())||(a=!1);break;case"password":r.methods.isPassword(e(i).val())||(a=!1);break;case"domain":r.methods.isDomain(e(i).val())||(a=!1);break;case"url":r.methods.isURL(e(i).val())||(a=!1);break;case"date":r.methods.isDate(e(i).val())||(a=!1);break;case"rfc":r.methods.isRFC(e(i).val())||(a=!1);break;case"samepassword":""===e(i).val()&&(a=!1),e(i).val()!==e(".samepassword2").val()&&(a=!1);break;case"select":a=!!e(i).val();break;case"checked":a=r.methods.isChecked(i)}if(void 0!==r.customValidations)for(var s in r.customValidations)n==r.customValidations[s].name&&(r.customValidations[s].validation(i)||(a=!1));if(!a){if(r.parentContainer?e(i).parent().addClass(r.errorClass):e(i).addClass(r.errorClass),r.notification)switch(r.theme){case"materialize":M.toast({html:e(i).data().content});break;case"bootstrap":e(i).popover("show");break;default:alert(e(i).data().content)}return e("html, body").animate({scrollTop:e(i).offset().top-105},500,function(){}),a}}),a},isEmail:function(e){return!!new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i).test(e)},isDomain:function(e){var t=new RegExp(/^((?:(?:(?:\w[\.\-\+]?)*)\w)+)((?:(?:(?:\w[\.\-\+]?){0,62})\w)+)\.(\w{2,6})$/);return e.match(t)},isText:function(e){return""!==e&&!!new RegExp(/^[a-zA-ZÁÉÍÓÚáéíóúñÑ ]+$/).test(e)},isCreditCard:function(e){if(e.length<16)return!1;if(/[^0-9-\s]+/.test(e))return!1;for(var t=0,a=0,r=!1,i=(e=e.replace(/\D/g,"")).length-1;i>=0;i--){var n=e.charAt(i);a=parseInt(n,10);r&&(a*=2)>9&&(a-=9),t+=a,r=!r}return t%10==0},isAlphaNumeric:function(e){return""!==e&&!!new RegExp(/^[a-z0-9]+$/i).test(e)},isPhone:function(e){return!!new RegExp(/^\d{10}$/).test(e)},isCP:function(e){return!(!new RegExp(/^[0-9]+$/).test(e)||5!=e.length)},isDate:function(e){return!!new RegExp(/[0-9]{4}[-][0-9]{2}[-][0-9]{2}$/).test(e)},isRFC:function(e){var t;t=12==e.length?" "+e:e;var a=new RegExp("^(([A-Z]|[a-z]|s){1})(([A-Z]|[a-z]){3})([0-9]{6})((([A-Z]|[a-z]|[0-9]){3}))");return null!=t.match(a)},isClabe:function(e){return!(!new RegExp(/^[0-9]+$/).test(e)||18!=e.length)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isPassword:function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\w{8,}$/.test(e)},isAddress:function(e){return!!new RegExp(/^[a-zA-Z0-9ÁÉÍÓÚáéíóúñÑ\-().,# ]+$/).test(e)},isCVV:function(e){return!(!new RegExp(/^[0-9]+$/).test(e)||e.length<3||e.length>4)},isSerie:function(e){return!(10!=e.length||!r.methods.isNumeric(e))},isCVVuser:function(e){return!(!new RegExp(/^[A-Z0-9-]+$/).test(e)||e.length<3||e.length>4)},cc_expiryMonth:function(e){return!(e>12||e<=0)},cc_expiryYear:function(e){return""!==e&&!(e<(new Date).getFullYear()-2e3)},isURL:function(e){return/^(ht|f)tps?:\/\/\w+([\.\-\w]+)?\.([a-z]{2,4}|travel)(:\d{2,5})?(\/.*)?$/i.test(e)},isChecked:function(t){return e(t).is(":checked")}}};return r}}(jQuery);
